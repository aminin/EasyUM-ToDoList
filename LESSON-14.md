# Урок 14

## Цели

 - [x] Проверка ДЗ
 - [x] Понятие шаблонов ООП
 - [x] Шаблон Наблюдатель.
 - [x] Шаблон MVC. Рефакторинг приложения с использованием MVC.
 
## Проверка ДЗ

## Понятие шаблонов ООП

**Шаблон проектирования** — повторяемая архитектурная конструкция, представляющая
собой решение проблемы проектирования в рамках некоторого часто возникающего контекста.

Обычно шаблон не является законченным образцом, который может быть прямо
преобразован в код; это лишь пример решения задачи, который можно использовать
в различных ситуациях. Объектно-ориентированные шаблоны показывают отношения
и взаимодействия между классами или объектами, без определения того, какие
конечные классы или объекты приложения будут использоваться.

Существует десятки [шаблонов проектирования](https://ru.wikipedia.org/wiki/Шаблон_проектирования)

Сегодня мы разберём 2 из них.

 1) [Наблюдатель](https://ru.wikipedia.org/wiki/Наблюдатель_(шаблон_проектирования))
 2) [Model-View-Controller](https://ru.wikipedia.org/wiki/Model-View-Controller)
 
## Наблюдатель

Шаблон **наблюдатель** состоит из объекта наблюдения (Observable) и наблюдателя (Observer).

См. пример кода в файле observer.js

Пример использования шаблона **наблюдатель** — порождение и [обработка событий в jQuery](https://api.jquery.com/category/events/event-handler-attachment/)
с помощью методов:

 - $.on
 - $.one
 - $.off
 - $.trigger

## Model-View-Controller

### Модель

Модель предоставляет данные и методы работы с ними: запросы в базу данных,
проверка на корректность. Модель не зависит от представления (не знает как данные
визуализировать) и контроллера (не имеет точек взаимодействия с пользователем)
просто предоставляя доступ к данным и управлению ими.

Модель строится таким образом, чтобы отвечать на запросы, изменяя своё состояние,
при этом может быть встроено уведомление «наблюдателей».

Модель, за счёт независимости от визуального представления, может иметь несколько
различных представлений для одной «модели».

### Представление

Представление отвечает за получение необходимых данных из модели и отправляет
их пользователю. Представление не обрабатывает введённые данные пользователя.

### Контроллер

Контроллер обеспечивает «связь» между пользователем и системой. Контролирует
и направляет данные от пользователя к системе и наоборот. Использует модель
и представление для реализации необходимого действия.


## Рефакторинг приложения с использованием MVC.

Создадим 3 файла:

 - model.js
 - view.js
 - controller.js
 
### Модель

Описывает сруктуру данных с которыми работает приложение, обеспечивает доступ к ним.

```javascript
class Collection {
    // Доступ к данным: сохранение на сервере, запрос данных с сервера, создание и удаление.
}

class Model {
    // Атрибуты и методы общие для всех моделей
}

class BoardModel extends Model {
    // Атрибуты и методы специфические для модели «Доска» 
}
```

### Контроллер

```javascript
class Controller {
    // Принимает запросы от пользователя
    // Передаёт пользователю ответ системы
    // Использует модель и представление для реализации необходимого действия
}
```

### Представление

```javascript
class View {
    // Отвечает за отображение данных (манипуляции с DOM)
    // и передачу событий DOM в контроллер
}
class BoardView {
    // Атрибуты и методы специфические для представления «Доска» 
}
```
